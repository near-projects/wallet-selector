{"id":"zKwL","dependencies":[{"name":"/home/matt/Projects/mattlockyer/wallet-selector/examples/react/package.json","includedInParent":true,"mtime":1648045642854},{"name":"/home/matt/Projects/mattlockyer/wallet-selector/examples/react/node_modules/near-wallet-selector/package.json","includedInParent":true,"mtime":1648045624778},{"name":"../services/persistent-storage.service","loc":{"line":1,"column":24,"index":24},"parent":"/home/matt/Projects/mattlockyer/wallet-selector/examples/react/node_modules/near-wallet-selector/lib/esm/state/State.js","resolved":"/home/matt/Projects/mattlockyer/wallet-selector/examples/react/node_modules/near-wallet-selector/lib/esm/services/persistent-storage.service.js"},{"name":"../constants","loc":{"line":2,"column":49,"index":115},"parent":"/home/matt/Projects/mattlockyer/wallet-selector/examples/react/node_modules/near-wallet-selector/lib/esm/state/State.js","resolved":"/home/matt/Projects/mattlockyer/wallet-selector/examples/react/node_modules/near-wallet-selector/lib/esm/constants.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.updateState=exports.getState=void 0;var e=require(\"../services/persistent-storage.service\"),t=require(\"../constants\"),r={current:{showModal:!1,showWalletOptions:!0,showLedgerDerivationPath:!1,showSenderWalletNotInstalled:!1,showSwitchNetwork:!1,selectedWalletId:null}},l=function(l){var s=l(r.current);if(r.current.selectedWalletId!==s.selectedWalletId){var a=t.LOCAL_STORAGE_SELECTED_WALLET_ID;s.selectedWalletId?e.storage.setItem(a,s.selectedWalletId):e.storage.removeItem(a)}r.current=s,window.updateWalletSelector&&window.updateWalletSelector(s)};exports.updateState=l;var s=function(){return r.current};exports.getState=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":0}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":13}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":20}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":35}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":43}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":56}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":57}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":64}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":68}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":76}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":88}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":96}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":110}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":1,"column":0},"generated":{"line":1,"column":112}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":1,"column":0},"generated":{"line":1,"column":118}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":1,"column":0},"generated":{"line":1,"column":126}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":2,"column":0},"generated":{"line":1,"column":168}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":2,"column":0},"generated":{"line":1,"column":170}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":2,"column":0},"generated":{"line":1,"column":178}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"state","original":{"line":3,"column":4},"generated":{"line":1,"column":194}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":3,"column":12},"generated":{"line":1,"column":196}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"current","original":{"line":4,"column":4},"generated":{"line":1,"column":197}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":4,"column":13},"generated":{"line":1,"column":205}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"showModal","original":{"line":5,"column":8},"generated":{"line":1,"column":206}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":5,"column":19},"generated":{"line":1,"column":217}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"showWalletOptions","original":{"line":6,"column":8},"generated":{"line":1,"column":219}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":6,"column":27},"generated":{"line":1,"column":238}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"showLedgerDerivationPath","original":{"line":7,"column":8},"generated":{"line":1,"column":240}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":7,"column":34},"generated":{"line":1,"column":266}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"showSenderWalletNotInstalled","original":{"line":8,"column":8},"generated":{"line":1,"column":268}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":8,"column":38},"generated":{"line":1,"column":298}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"showSwitchNetwork","original":{"line":9,"column":8},"generated":{"line":1,"column":300}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":9,"column":27},"generated":{"line":1,"column":319}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"selectedWalletId","original":{"line":10,"column":8},"generated":{"line":1,"column":321}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":10,"column":26},"generated":{"line":1,"column":338}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"updateState","original":{"line":13,"column":11},"generated":{"line":1,"column":345}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":13,"column":25},"generated":{"line":1,"column":347}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"func","original":{"line":13,"column":35},"generated":{"line":1,"column":356}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"nextState","original":{"line":14,"column":8},"generated":{"line":1,"column":359}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"nextState","original":{"line":14,"column":8},"generated":{"line":1,"column":363}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"func","original":{"line":14,"column":20},"generated":{"line":1,"column":365}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"state","original":{"line":14,"column":25},"generated":{"line":1,"column":367}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"current","original":{"line":14,"column":31},"generated":{"line":1,"column":369}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"state","original":{"line":16,"column":8},"generated":{"line":1,"column":378}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"state","original":{"line":16,"column":8},"generated":{"line":1,"column":381}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"current","original":{"line":16,"column":14},"generated":{"line":1,"column":383}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"selectedWalletId","original":{"line":16,"column":22},"generated":{"line":1,"column":391}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"nextState","original":{"line":16,"column":43},"generated":{"line":1,"column":410}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"selectedWalletId","original":{"line":16,"column":53},"generated":{"line":1,"column":412}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":16,"column":71},"generated":{"line":1,"column":429}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"storageKey","original":{"line":17,"column":12},"generated":{"line":1,"column":430}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"storageKey","original":{"line":17,"column":12},"generated":{"line":1,"column":434}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"LOCAL_STORAGE_SELECTED_WALLET_ID","original":{"line":17,"column":25},"generated":{"line":1,"column":436}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":17,"column":8},"generated":{"line":1,"column":438}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"nextState","original":{"line":18,"column":12},"generated":{"line":1,"column":471}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"selectedWalletId","original":{"line":18,"column":22},"generated":{"line":1,"column":473}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"setItem","original":{"line":19,"column":20},"generated":{"line":1,"column":490}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"setItem","original":{"line":19,"column":20},"generated":{"line":1,"column":492}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"setItem","original":{"line":19,"column":20},"generated":{"line":1,"column":500}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"storageKey","original":{"line":19,"column":28},"generated":{"line":1,"column":508}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"nextState","original":{"line":19,"column":40},"generated":{"line":1,"column":510}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"selectedWalletId","original":{"line":19,"column":50},"generated":{"line":1,"column":512}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"removeItem","original":{"line":22,"column":20},"generated":{"line":1,"column":530}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"removeItem","original":{"line":22,"column":20},"generated":{"line":1,"column":532}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"removeItem","original":{"line":22,"column":20},"generated":{"line":1,"column":540}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"storageKey","original":{"line":22,"column":31},"generated":{"line":1,"column":551}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"state","original":{"line":25,"column":4},"generated":{"line":1,"column":554}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"current","original":{"line":25,"column":10},"generated":{"line":1,"column":556}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"nextState","original":{"line":25,"column":20},"generated":{"line":1,"column":564}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"window","original":{"line":26,"column":8},"generated":{"line":1,"column":566}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"updateWalletSelector","original":{"line":26,"column":15},"generated":{"line":1,"column":573}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"window","original":{"line":27,"column":8},"generated":{"line":1,"column":595}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"updateWalletSelector","original":{"line":27,"column":15},"generated":{"line":1,"column":602}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"nextState","original":{"line":27,"column":36},"generated":{"line":1,"column":623}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":627}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":635}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":647}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":649}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"getState","original":{"line":30,"column":11},"generated":{"line":1,"column":653}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":22},"generated":{"line":1,"column":655}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"state","original":{"line":31,"column":11},"generated":{"line":1,"column":666}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"state","original":{"line":31,"column":11},"generated":{"line":1,"column":673}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","name":"current","original":{"line":31,"column":17},"generated":{"line":1,"column":675}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":684}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":692}},{"source":"../node_modules/near-wallet-selector/lib/esm/state/State.js","original":{"line":30,"column":7},"generated":{"line":1,"column":701}}],"sources":{"../node_modules/near-wallet-selector/lib/esm/state/State.js":"import { storage } from \"../services/persistent-storage.service\";\nimport { LOCAL_STORAGE_SELECTED_WALLET_ID } from \"../constants\";\nvar state = {\n    current: {\n        showModal: false,\n        showWalletOptions: true,\n        showLedgerDerivationPath: false,\n        showSenderWalletNotInstalled: false,\n        showSwitchNetwork: false,\n        selectedWalletId: null,\n    },\n};\nexport var updateState = function (func) {\n    var nextState = func(state.current);\n    // Synchronise storage.\n    if (state.current.selectedWalletId !== nextState.selectedWalletId) {\n        var storageKey = LOCAL_STORAGE_SELECTED_WALLET_ID;\n        if (nextState.selectedWalletId) {\n            storage.setItem(storageKey, nextState.selectedWalletId);\n        }\n        else {\n            storage.removeItem(storageKey);\n        }\n    }\n    state.current = nextState;\n    if (window.updateWalletSelector) {\n        window.updateWalletSelector(nextState);\n    }\n};\nexport var getState = function () {\n    return state.current;\n};\n"},"lineCount":null}},"error":null,"hash":"32a2f273a150f038521131dc4af7e4e3","cacheData":{"env":{}}}